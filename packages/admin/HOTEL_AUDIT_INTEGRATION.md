# é…’åº—å®¡æ ¸é¡µé¢å‰åç«¯å¯¹æ¥å®Œæˆ

## æ¥å£ä¿¡æ¯

### è·å–å®¡æ ¸åˆ—è¡¨
- **æ¥å£**: `GET /api/hotelsReview/list`
- **è¯·æ±‚å‚æ•°**:
  - `page` (integer, å¯é€‰): é¡µç ï¼Œé»˜è®¤1
  - `pageSize` (integer, å¯é€‰): æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
  - `status` (integer, å¯é€‰): çŠ¶æ€ç­›é€‰
    - `0` - å·²ä¸‹æ¶
    - `1` - è¥ä¸šä¸­
    - `2` - å¾…å®¡æ‰¹
    - `3` - å®¡æ‰¹æ‹’ç»

### å®¡æ ¸é€šè¿‡
- **æ¥å£**: `PUT /api/hotelsReview/approve/{id}`
- **è¿”å›æ•°æ®**:
```json
{
  "success": true,
  "message": "é…’åº—å®¡æ‰¹é€šè¿‡ï¼ŒçŠ¶æ€å·²æ›´æ–°ä¸ºè¥ä¸šä¸­",
  "data": {
    "id": 5,
    "status": 1
  }
}
```

### å®¡æ ¸æ‹’ç»
- **æ¥å£**: `PUT /api/hotelsReview/reject/{id}`
- **è¯·æ±‚å‚æ•°**:
  - `id` (è·¯å¾„å‚æ•°): é…’åº—ID
- **è¯·æ±‚ä½“**:
```json
{
  "rejection_reason": "é…’åº—èµ„è´¨ä¸ç¬¦åˆè¦æ±‚ï¼Œç¼ºå°‘è¥ä¸šæ‰§ç…§"
}
```
- **è¿”å›æ•°æ®**:
```json
{
  "success": true,
  "message": "é…’åº—å®¡æ‰¹å·²æ‹’ç»",
  "data": {
    "id": 5,
    "status": 3,
    "rejection_reason": "é…’åº—èµ„è´¨ä¸ç¬¦åˆè¦æ±‚ï¼Œç¼ºå°‘è¥ä¸šæ‰§ç…§"
  }
}
```

- **è·å–å®¡æ ¸åˆ—è¡¨è¿”å›æ•°æ®ç»“æ„**:
```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "list": [
      {
        "id": 5,
        "hotel_name": "å¥½åˆ©æ¥é…’åº—",
        "merchant_name": "å¼ ä¸‰ä¸°",
        "address": "æ²³åŒ—çœç§¦çš‡å²›å¸‚åŒ—æˆ´æ²³åŒº æ±Ÿå—æ°´å²¸",
        "star_rating": 3,
        "status": 0,
        "created_at": "2026-02-10T08:58:10.000Z",
        "rejection_reason": "string"
      }
    ],
    "pagination": {
      "page": 1,
      "pageSize": 10,
      "total": 2,
      "totalPages": 1
    }
  }
}
```

### å­—æ®µæ˜ å°„
| åç«¯å­—æ®µ | å‰ç«¯å­—æ®µ | è¯´æ˜ |
|---------|---------|------|
| `hotel_name` | `name` | é…’åº—åç§° |
| `merchant_name` | `merchant` | å•†æˆ·åç§° |
| `rejection_reason` | `reject_reason` | æ‹’ç»åŸå›  |
| `created_at` | `submitTime` | æäº¤æ—¶é—´ï¼ˆéœ€æ ¼å¼åŒ–ï¼‰ |

## å·²å®ŒæˆåŠŸèƒ½

### 1. API é…ç½®
- âœ… æ·»åŠ  `HOTEL_API.AUDIT_LIST` é…ç½®
- âœ… è·¯å¾„: `hotel_platform/packages/admin/src/config/api.js`

### 2. æœåŠ¡å‡½æ•°
- âœ… åˆ›å»º `getHotelAuditList(params)` å‡½æ•°
- âœ… æ”¯æŒåˆ†é¡µå‚æ•°: `page`, `pageSize`, `status`
- âœ… è·¯å¾„: `hotel_platform/packages/admin/src/services/hotelService.js`

### 3. Hook é€»è¾‘
- âœ… é‡æ„ `useHotelAudit` hookï¼Œå¯¹æ¥çœŸå® API
- âœ… é€‚é…åç«¯è¿”å›å­—æ®µï¼š`hotel_name`, `merchant_name`, `rejection_reason`
- âœ… æ·»åŠ æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ï¼Œå°† ISO æ ¼å¼è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´
- âœ… ä» `response.data.pagination` è·å–åˆ†é¡µä¿¡æ¯
- âœ… æ·»åŠ çŠ¶æ€è½¬æ¢å‡½æ•°ï¼ˆåç«¯çŠ¶æ€å€¼ â†” å‰ç«¯çŠ¶æ€keyï¼‰
- âœ… å®ç°åˆ†é¡µåŠŸèƒ½
- âœ… å®ç°çŠ¶æ€ç­›é€‰åŠŸèƒ½
- âœ… è·¯å¾„: `hotel_platform/packages/admin/src/pages/admin/HotelAudit/hooks/useHotelAudit.js`

### 4. è¡¨æ ¼ç»„ä»¶
- âœ… æ·»åŠ çŠ¶æ€ç­›é€‰æ ‡ç­¾é¡µï¼ˆTabsï¼‰
- âœ… é…ç½®è¡¨æ ¼åˆ†é¡µå±æ€§
- âœ… æ”¯æŒå¿«é€Ÿè·³è½¬å’Œæ¯é¡µæ¡æ•°é€‰æ‹©
- âœ… æ˜¾ç¤ºæ€»æ¡æ•°ç»Ÿè®¡
- âœ… è·¯å¾„: `hotel_platform/packages/admin/src/pages/admin/HotelAudit/components/HotelAuditTable.jsx`

### 5. ä¸»é¡µé¢
- âœ… ä¼ é€’ `pagination`ã€`onPageChange`ã€`onStatusFilter` å‚æ•°
- âœ… å¤ç”¨é…’åº—ç®¡ç†çš„è¯¦æƒ…æŸ¥çœ‹é€»è¾‘ï¼ˆè°ƒç”¨çœŸå® APIï¼‰
- âœ… ä½¿ç”¨ `getHotelDetail` è·å–é…’åº—è¯¦æƒ…
- âœ… ä½¿ç”¨ `getRoomList` å®æ—¶è®¡ç®—æˆ¿é—´æ•°
- âœ… å¤ç”¨ `HotelDetail` ç»„ä»¶å±•ç¤ºè¯¦æƒ…
- âœ… è·¯å¾„: `hotel_platform/packages/admin/src/pages/admin/HotelAudit/index.jsx`

## çŠ¶æ€æ˜ å°„

### åç«¯çŠ¶æ€å€¼ â†’ å‰ç«¯çŠ¶æ€key
```javascript
0 â†’ 'offline'   // å·²ä¸‹æ¶
1 â†’ 'approved'  // è¥ä¸šä¸­ï¼ˆå·²é€šè¿‡ï¼‰
2 â†’ 'pending'   // å¾…å®¡æ‰¹
3 â†’ 'rejected'  // å®¡æ‰¹æ‹’ç»
```

### å‰ç«¯æ˜¾ç¤º
- **å¾…å®¡æ‰¹**: æ©™è‰²æ ‡ç­¾ï¼Œæ˜¾ç¤º"é€šè¿‡"å’Œ"æ‹’ç»"æŒ‰é’®
- **è¥ä¸šä¸­**: ç»¿è‰²æ ‡ç­¾ï¼Œåªæ˜¾ç¤º"æŸ¥çœ‹"æŒ‰é’®
- **å·²æ‹’ç»**: çº¢è‰²æ ‡ç­¾ï¼Œæ˜¾ç¤º"æŸ¥çœ‹åŸå› "é“¾æ¥
- **å·²ä¸‹æ¶**: ç°è‰²æ ‡ç­¾ï¼Œåªæ˜¾ç¤º"æŸ¥çœ‹"æŒ‰é’®

## åŠŸèƒ½ç‰¹æ€§

### ä»£ç å¤ç”¨
- é…’åº—è¯¦æƒ…æŸ¥çœ‹é€»è¾‘ä¸é…’åº—ç®¡ç†é¡µé¢å®Œå…¨å¤ç”¨
- ä½¿ç”¨ç›¸åŒçš„ API è°ƒç”¨ï¼š`getHotelDetail` å’Œ `getRoomList`
- ä½¿ç”¨ç›¸åŒçš„è¯¦æƒ…ç»„ä»¶ï¼š`HotelDetail`
- æˆ¿é—´æ•°å®æ—¶è®¡ç®—ï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§

### çŠ¶æ€ç­›é€‰
- æ ‡ç­¾é¡µåˆ‡æ¢ï¼šå…¨éƒ¨ã€å¾…å®¡æ‰¹ã€è¥ä¸šä¸­ã€å·²æ‹’ç»ã€å·²ä¸‹æ¶
- åˆ‡æ¢æ—¶è‡ªåŠ¨é‡ç½®åˆ°ç¬¬ä¸€é¡µ
- ä¿æŒå½“å‰æ¯é¡µæ¡æ•°è®¾ç½®

### åˆ†é¡µåŠŸèƒ½
- æ”¯æŒå¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šé¡µ
- æ”¯æŒåˆ‡æ¢æ¯é¡µæ¡æ•°ï¼ˆ10/20/50/100ï¼‰
- æ˜¾ç¤ºæ€»æ¡æ•°ç»Ÿè®¡
- åˆ†é¡µå˜åŒ–æ—¶ä¿æŒå½“å‰çŠ¶æ€ç­›é€‰

### å®¡æ ¸æ“ä½œ
- **é€šè¿‡å®¡æ ¸**: è°ƒç”¨ `PUT /api/hotels/{id}/approve`
- **æ‹’ç»å®¡æ ¸**: è°ƒç”¨ `PUT /api/hotels/{id}/reject`ï¼Œéœ€è¦å¡«å†™æ‹’ç»åŸå› 
- æ“ä½œæˆåŠŸåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨ï¼Œä¿æŒå½“å‰é¡µç å’Œç­›é€‰æ¡ä»¶

## ä½¿ç”¨ç¤ºä¾‹

```javascript
// è·å–ç¬¬1é¡µï¼Œæ¯é¡µ10æ¡ï¼Œç­›é€‰å¾…å®¡æ‰¹çŠ¶æ€
const params = {
  page: 1,
  pageSize: 10,
  status: 2  // å¾…å®¡æ‰¹
};

const response = await getHotelAuditList(params);
```

## æ³¨æ„äº‹é¡¹

1. åç«¯è¿”å›çš„çŠ¶æ€å€¼æ˜¯æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œå‰ç«¯éœ€è¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²key
2. åˆ†é¡µä»ç¬¬1é¡µå¼€å§‹ï¼ˆä¸æ˜¯ç¬¬0é¡µï¼‰
3. çŠ¶æ€ç­›é€‰ä¸º `null` æ—¶è¡¨ç¤ºæŸ¥è¯¢å…¨éƒ¨çŠ¶æ€
4. å®¡æ ¸æ“ä½œæˆåŠŸåä¼šè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨ï¼Œä¿æŒå½“å‰é¡µç å’Œç­›é€‰æ¡ä»¶
5. æ§åˆ¶å°æ—¥å¿—ä½¿ç”¨è¡¨æƒ…ç¬¦å·æ ‡è¯†ï¼šğŸ” è¯·æ±‚ã€âœ… æˆåŠŸã€âŒ å¤±è´¥

## æµ‹è¯•å»ºè®®

1. æµ‹è¯•ä¸åŒçŠ¶æ€ç­›é€‰æ˜¯å¦æ­£å¸¸
2. æµ‹è¯•åˆ†é¡µåˆ‡æ¢æ˜¯å¦æ­£å¸¸
3. æµ‹è¯•æ¯é¡µæ¡æ•°åˆ‡æ¢æ˜¯å¦æ­£å¸¸
4. æµ‹è¯•å®¡æ ¸é€šè¿‡/æ‹’ç»æ“ä½œæ˜¯å¦æ­£å¸¸
5. æµ‹è¯•æ“ä½œååˆ—è¡¨æ˜¯å¦è‡ªåŠ¨åˆ·æ–°
6. æµ‹è¯•ç½‘ç»œé”™è¯¯æ—¶çš„é”™è¯¯æç¤º
